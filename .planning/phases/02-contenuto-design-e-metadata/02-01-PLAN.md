---
phase: 02-contenuto-design-e-metadata
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/layouts/Base.astro
  - src/components/Section.astro
  - src/styles/global.css
  - src/pages/index.astro
  - public/favicon.svg
autonomous: true
requirements:
  - CONT-01
  - CONT-02
  - CONT-03
  - CONT-04
  - DSGN-01
  - DSGN-02
  - DSGN-03
  - DSGN-04
  - META-01
  - META-02
  - META-03
  - META-04

must_haves:
  truths:
    - "All four sections (Imprenditoria, Informatica, Fitness, CNV) are visible with content identical to the original index.markdown"
    - "The email link opens a mail client pre-addressed to toto.castaldi@gmail.com"
    - "External links (Skillbill, GitHub, toto-castaldi.com) open in a new tab"
    - "The page renders correctly on mobile and desktop without horizontal scrolling"
    - "Sharing the URL on social media shows a title, description, and OG preview"
    - "Italian accented characters (società, vent'anni, più, è) render correctly"
    - "The page ships zero client-side JavaScript"
  artifacts:
    - path: "src/layouts/Base.astro"
      provides: "HTML document shell with meta, OG tags, favicon, slot"
      contains: "og:title"
    - path: "src/components/Section.astro"
      provides: "Reusable section wrapper with h2 heading and slot"
      contains: "section"
    - path: "src/styles/global.css"
      provides: "Typography reset, responsive layout, design tokens"
      contains: "clamp("
    - path: "src/pages/index.astro"
      provides: "Full landing page with all four content sections"
      contains: "Imprenditoria"
    - path: "public/favicon.svg"
      provides: "SVG favicon with T letter"
      contains: "svg"
  key_links:
    - from: "src/layouts/Base.astro"
      to: "src/styles/global.css"
      via: "ESM import in frontmatter"
      pattern: "import.*global\\.css"
    - from: "src/pages/index.astro"
      to: "src/layouts/Base.astro"
      via: "Layout component import and wrapper"
      pattern: "import Base from.*Base\\.astro"
    - from: "src/pages/index.astro"
      to: "src/components/Section.astro"
      via: "Component import and usage"
      pattern: "import Section from.*Section\\.astro"
    - from: "src/layouts/Base.astro"
      to: "public/favicon.svg"
      via: "link rel icon in head"
      pattern: "href=.*favicon\\.svg"
---

<objective>
Build the complete landing page for toto-castaldi.github.io with all content migrated from the original Jekyll site, responsive CSS-only design with improved typography, semantic HTML structure, Open Graph metadata, and a favicon.

Purpose: This is the final phase — transforms the Phase 1 placeholder into the fully functional personal page with all content, design, and metadata complete.
Output: Five files — Base.astro layout, Section.astro component, global.css, index.astro page, favicon.svg — that produce a complete, responsive, SEO-ready landing page.
</objective>

<execution_context>
@/home/toto/.claude/get-shit-done/workflows/execute-plan.md
@/home/toto/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-contenuto-design-e-metadata/02-RESEARCH.md
@.planning/phases/01-scaffold-e-ci-cd/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create layout, component, global CSS, and favicon</name>
  <files>
    src/layouts/Base.astro
    src/components/Section.astro
    src/styles/global.css
    public/favicon.svg
  </files>
  <action>
Create four files that form the design system foundation:

**src/styles/global.css** — Global typography and layout styles:
- Minimal reset: box-sizing border-box on *, body margin 0 padding 0
- CSS custom properties in :root for design tokens:
  - --font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif
  - --font-body: clamp(1rem, 0.95rem + 0.25vw, 1.125rem)
  - --font-h1: clamp(1.75rem, 1.5rem + 1.25vw, 2.5rem)
  - --font-h2: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem)
  - --line-height: 1.6
  - --color-bg: #ffffff, --color-text: #1a1a1a, --color-text-secondary: #555555
  - --color-link: #0056b3, --color-link-hover: #003d80
  - --content-max-width: 65ch, --content-padding: clamp(1rem, 5vw, 3rem)
- html: font-family, font-size, line-height, color, background-color, -webkit-text-size-adjust: 100%
- body: max-width var(--content-max-width), margin-inline auto, padding-inline var(--content-padding), padding-block 2rem
- h1: font-size var(--font-h1), line-height 1.2, margin-block 0 1rem
- h2: font-size var(--font-h2), line-height 1.3, margin-block 2rem 0.75rem
- a: color var(--color-link), underline, text-underline-offset 0.15em; hover/focus-visible: var(--color-link-hover)
- p: margin-block 0 1rem
- hr: border none, border-top 1px solid #e0e0e0, margin-block 2.5rem
- IMPORTANT: Use clamp() with rem+vw for WCAG zoom compliance. Do NOT use pure vw units.

**src/layouts/Base.astro** — HTML document shell:
- Props interface: { title: string; description?: string }
- Default description: 'Pagina personale di Antonio Castaldi — Imprenditore, informatico, personal trainer.'
- Construct canonical URL: `new URL(Astro.url.pathname, Astro.site)`
- Import '../styles/global.css' in frontmatter (ESM import, NOT link tag to public/)
- html lang="it"
- head: meta charset="utf-8" FIRST, then meta viewport width=device-width initial-scale=1.0, title, meta description, link icon type="image/svg+xml" href="/favicon.svg", link canonical
- Open Graph: og:title, og:description, og:type="website", og:url (using canonicalURL)
- body contains only `<slot />`

**src/components/Section.astro** — Reusable section wrapper:
- Props interface: { title: string; id?: string }
- Renders: section tag with optional id, h2 with title, slot for content
- Scoped styles: section margin-block 2.5rem, h2 margin-block-end 0.75rem

**public/favicon.svg** — Minimal SVG favicon:
- Dark rounded square (#1a1a1a) with white "T" letter
- viewBox="0 0 100 100", rect with rx="12", text element centered
- System font stack, font-size 64, font-weight 700, white fill
  </action>
  <verify>
Run `npm run build` from project root. Must complete without errors. Check that:
- dist/ output contains the global CSS (minified/hashed)
- dist/favicon.svg exists
- The generated HTML head contains og:title, og:description, og:type, og:url, charset utf-8, viewport meta
  </verify>
  <done>
Base.astro renders a complete HTML shell with charset, viewport, title, description, OG tags, favicon link, and canonical URL. Section.astro renders semantic section with h2 heading. global.css provides responsive typography with clamp() and minimal white design. favicon.svg exists as a dark square with white T.
  </done>
</task>

<task type="auto">
  <name>Task 2: Build full landing page with migrated content</name>
  <files>
    src/pages/index.astro
  </files>
  <action>
Replace the Phase 1 placeholder index.astro with the full landing page.

**CRITICAL: Content fidelity.** The original content is in git history. Retrieve it with:
```bash
git show a8ec0a8~1:index.markdown
```
Copy the EXACT Italian text with all accented characters (società, vent'anni, più, è, interland). Do NOT retype or paraphrase — use the original UTF-8 bytes.

**src/pages/index.astro** structure:
- Frontmatter: import Base from '../layouts/Base.astro'; import Section from '../components/Section.astro';
- Wrap everything in `<Base title="Antonio Castaldi">`
- Inside Base: `<main>` wrapper containing:
  - `<h1>Antonio Castaldi</h1>` (semantic: h1 for the person's name)
  - Intro paragraphs: "Mi chiamo Antonio Castaldi ma tutti mi chiamano *Toto*, fallo anche tu :)" — render *Toto* as `<em>Toto</em>`
  - "Ecco qualche parte di me :"
  - Four Section components, each with title and id:
    1. `<Section title="Imprenditoria" id="imprenditoria">` — two paragraphs with Skillbill link
    2. `<Section title="Informatica" id="informatica">` — two paragraphs with GitHub and toto-castaldi.com links
    3. `<Section title="Fitness" id="fitness">` — two paragraphs
    4. `<Section title="Comunicazione Non Violenta" id="cnv">` — one paragraph
  - `<hr />`
  - `<footer>` containing:
    - Contact paragraph with mailto link: `<a href="mailto:toto.castaldi@gmail.com">toto.castaldi@gmail.com</a>`
    - `<hr />`
    - `<p><strong>scritto senza AI</strong></p>`

**External links** — ALL three must have `target="_blank" rel="noopener noreferrer"`:
1. `<a href="https://www.skillbill.it/" target="_blank" rel="noopener noreferrer">Skillbill srl</a>`
2. `<a href="https://github.com/toto-castaldi" target="_blank" rel="noopener noreferrer">Qui</a>` (GitHub repos)
3. `<a href="https://toto-castaldi.com" target="_blank" rel="noopener noreferrer">Qui</a>` (projects)

**Email link** — mailto, NO target="_blank":
- `<a href="mailto:toto.castaldi@gmail.com">toto.castaldi@gmail.com</a>`

**After writing the file**, verify content fidelity by comparing the text content against the original markdown. Check specifically:
- "società" (not "societa")
- "vent'anni" (with apostrophe)
- "più" (not "piu")
- "è" (not "e")
- "dell'interland" (with apostrophe)
- "L'ho" (with apostrophe)

**Do NOT add any `<script>` tags or client:* directives. Zero JavaScript.**
  </action>
  <verify>
Run `npm run build` — must succeed with zero errors.
Run `npm run preview` and verify:
1. All four sections render with correct Italian accented text
2. View page source: confirm og:title, og:description, og:type, og:url present
3. View page source: confirm charset utf-8 is FIRST meta tag
4. View page source: confirm no script tags in output
5. Confirm favicon.svg is referenced in head
6. Confirm all three external links have target="_blank" rel="noopener noreferrer"
7. Confirm mailto link is correct
8. Confirm "scritto senza AI" is present in bold
  </verify>
  <done>
The landing page at index.astro renders all four content sections with text identical to the original index.markdown (including Italian accented characters). Three external links open in new tabs with noopener noreferrer. Email mailto link works. "scritto senza AI" note is present. Page uses semantic HTML (h1 for name, h2 for sections, section tags, main, footer). Zero JavaScript shipped. OG tags render with absolute URLs. Page is responsive on mobile and desktop.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:

1. **Build check:** `npm run build` completes without errors or warnings
2. **Content fidelity:** All four sections present with exact Italian text including accented characters
3. **Links:** Three external links open new tabs (target="_blank" rel="noopener noreferrer"), mailto link works
4. **Responsive:** Page renders without horizontal scroll on both mobile (375px) and desktop viewports
5. **Meta/SEO:** HTML head contains charset utf-8, viewport, title "Antonio Castaldi", og:title, og:description, og:type, og:url with absolute URL
6. **Favicon:** favicon.svg referenced in head and file exists in public/
7. **Zero JS:** No script tags in built output, no client-side JavaScript
8. **Semantic HTML:** h1 for name, h2 inside section elements, main wrapper, footer
9. **Typography:** System font stack, clamp()-based fluid sizing, max-width 65ch centered layout
</verification>

<success_criteria>
- `npm run build` passes
- Built HTML contains all four content sections with correct Italian UTF-8 characters
- Built HTML contains og:title, og:description, og:type, og:url meta tags
- Built HTML contains `<link rel="icon" type="image/svg+xml" href="/favicon.svg" />`
- Built HTML contains no `<script>` tags
- All external links have target="_blank" rel="noopener noreferrer"
- mailto link href is correct
- "scritto senza AI" appears in bold in footer
- Page layout uses max-width: 65ch with auto margins (responsive)
</success_criteria>

<output>
After completion, create `.planning/phases/02-contenuto-design-e-metadata/02-01-SUMMARY.md`
</output>
